<!doctype html>
<html lang="en">

<!-- Bootstrap code source: https://repl.it/@mingfeng/wk08-simple-bootstrap#script.js --> 
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
   crossorigin="anonymous">
  <!-- Styles -->
  <link rel="stylesheet" href="Styles/normalize.css">
  <link rel="stylesheet" href="Styles/style.css">
  <!-- Mapbox -->
	<script src='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js'>
	</script>
	<link href='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css' rel='stylesheet' />
	<script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.js">
	</script>
	<link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-directions/v4.1.0/mapbox-gl-directions.css"
	 type="text/css" />
	<title>Learn Covid</title>
</head>

<body>


  <!-- Nav bar -->
	<nav style = "position: sticky;z-index: 3;" class="navbar navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="index.html"><img src = "Images/covid_icon.png" alt="covid-icon" style = "width:60px;"> Learn Covid</a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="index.html">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="learn.html">Learn</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="quiz.html">Quiz</a>
        </li>
        <li class="nav-item active">
          <a class="nav-link" href="stats.html">Stats</a>
        </li>
      </ul>
    </div>
  </nav>

  <!-- Page -->
  <h1>Statistics</h1>
  <!-- global stats section -->
  <section>
      <h2>Global Statistics</h2>
      <div class = "global_stats_loading">Loading...</div>
      <lottie-player class = "global_stats_loading" src="https://assets3.lottiefiles.com/datafiles/67bae0ddb57b26679d10e9ce7c1d445f/data.json"  background="transparent"  speed="1"  style="width: 30px; height: 30px;"  loop  autoplay></lottie-player>
      <div id = "global_stats_output">
          <div class = "column">
            <img class = "global_stats_icon" alt = "confirmed" src = "Images/confirmed_icon.png">
                <h5 id = "newConfirmed_output"></h5>
                <h5 id = "totalConfirmed_output"></h5>
          </div>
          <div class = "column">
            <img class = "global_stats_icon" alt = "recovered" src = "Images/recovered_icon.png">
                <h5 id = "newRecovered_output"></h5>
                <h5 id = "totalRecovered_output"></h5>
          </div>
          <div class = "column">
            <img class = "global_stats_icon" alt = "death" src = "Images/death_icon.png">

                <h5 id = "newDeaths_output"></h5>
                <h5 id = "totalDeaths_output"></h5>
          </div>
      </div>
  </section>

    <section>
        <h2>Search by Country</h2>
        <div id = "search_bar">
            <!-- Search bar -->
            <label>Enter country:</label>
            <input type = "text" id = "search_input">
            <button id = "search_btn">Search</button>
            <!-- Search Output -->
          </div>
          <div id = "search_multiple"></div>
          <p class = "search_loading">Loading...</p>
          <lottie-player class = "search_loading" src="https://assets3.lottiefiles.com/datafiles/67bae0ddb57b26679d10e9ce7c1d445f/data.json"  background="transparent"  speed="1"  style="width: 30px; height: 30px;"  loop  autoplay></lottie-player>
          <div id = "search_output"></div>
    </section>

  <!-- Mapbox maps -->
  <section id = "map-section">
      <h2>Total Confirmed Cases</h2>
  <div class = "map_loading">
    <lottie-player src="https://assets3.lottiefiles.com/datafiles/67bae0ddb57b26679d10e9ce7c1d445f/data.json"  background="transparent"  speed="1"  style="width: 300px; height: 300px;"  loop  autoplay></lottie-player>
  </div>
  <div class = "map_container">
    <div id='map' style= 'height: 70vh;'></div>
    <form id = "map_settings">
        <h2>Settings</h2>
        <label for = "popup_chkbx">Show popups</label>
        <input type = "checkbox" id = "popup_chkbx">
        <label for = "green">Show green markers</label>
        <input type = "checkbox" id = "green" checked>
        <label for = "yellow">Show yellow markers</label>
        <input type = "checkbox" id = "yellow" checked>
        <label for = "orange">Show orange markers</label>
        <input type = "checkbox" id = "orange" checked>
        <label for = "red">Show red markers</label>
        <input type = "checkbox" id = "red" checked>
        <button id = "apply_btn">Apply changes</button>
    </form>
  </div>
  <div id='map_legend_container'>
      <h5>Legend:</h5>
      <p>Green: <= 10k</p>
      <p>Yellow: <= 100k</p>
      <p>Orange: <= 1M</p>
      <p>Red: > 1M</p>
  </div>
  </section>
  <footer>
    <p>2021 ID Assignment 3</p>
    <p>By: Tang Ming Feng and Josiah Low</p>
  </footer>
  
    <!-- ajax lottie scripts-->
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <!-- api script -->
    <script src="Scripts/loadapi.js"></script>
  </body>
</html>